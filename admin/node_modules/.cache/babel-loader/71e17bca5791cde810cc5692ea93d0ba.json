{"ast":null,"code":"var _jsxFileName = \"/Users/ccr2k/Desktop/foleyshop/admin/src/pages/user/User.jsx\",\n    _s = $RefreshSig$();\n\nimport { CalendarToday, LocationSearching, MailOutline, PermIdentity, PhoneAndroid, Publish } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\nimport \"./user.css\";\nimport { useState } from \"react\";\nimport { updateUser } from '../../redux/apiCalls';\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport app from \"../../firebase\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation } from \"react-router-dom\"; //import User from './User';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function User() {\n  _s();\n\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const userId = location.pathname.split(\"/\")[2];\n  const [file, setFile] = useState([]);\n  const [inputs, setInputs] = useState({});\n  const user = useSelector(state => state.userList.currentUser.find(user => user._id === userId));\n  console.log(user, \"user\");\n  const randomImg = 'https://media.istockphoto.com/id/1131164548/vector/avatar-5.jpg?s=612x612&w=0&k=20&c=CK49ShLJwDxE4kiroCR42kimTuuhvuo2FH5y_6aSgEo=';\n\n  const handleChange = e => {\n    setInputs(prev => {\n      return { ...prev,\n        [e.target.name]: e.target.value\n      };\n    });\n  };\n\n  const handleClick = e => {\n    e.preventDefault();\n    const fileName = new Date().getTime() + ((file === null || file === void 0 ? void 0 : file.name) || randomImg);\n    const storage = getStorage(app);\n    const storageRef = ref(storage, fileName);\n    const uploadTask = uploadBytesResumable(storageRef, file || randomImg); // Register three observers:\n    // 1. 'state_changed' observer, called any time the state changes\n    // 2. Error observer, called on failure\n    // 3. Completion observer, called on successful completion\n\n    uploadTask.on('state_changed', snapshot => {\n      // Observe state change events such as progress, pause, and resume\n      // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n      const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      console.log('Upload is ' + progress + '% done');\n\n      switch (snapshot.state) {\n        case 'paused':\n          console.log('Upload is paused');\n          break;\n\n        case 'running':\n          console.log('Upload is running');\n          break;\n\n        default:\n      }\n    }, error => {// Handle unsuccessful uploads\n    }, () => {\n      // Handle successful uploads on complete\n      // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n      getDownloadURL(uploadTask.snapshot.ref).then(downloadURL => {\n        const user = {\n          _id: userId,\n          ...inputs,\n          img: downloadURL\n        };\n        updateUser(userId, user, dispatch);\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userTitleContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"userTitle\",\n        children: \"Edit User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/newUser\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"userAddButton\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"userContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userShow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userShowTop\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.img || randomImg,\n            alt: \"\",\n            className: \"userShowImg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowTopTitle\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowUsername\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userShowBottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"userShowTitle\",\n            children: [\"id: \", user._id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowInfo\",\n            children: [/*#__PURE__*/_jsxDEV(PermIdentity, {\n              className: \"userShowIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowInfoTitle\",\n              children: \"annabeck99\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowInfo\",\n            children: [/*#__PURE__*/_jsxDEV(CalendarToday, {\n              className: \"userShowIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowInfoTitle\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"userShowTitle\",\n            children: user.isAdmin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userShowInfo\",\n            children: [/*#__PURE__*/_jsxDEV(PhoneAndroid, {\n              className: \"userShowIcon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"userShowInfoTitle\",\n              children: \"+1 123 456 67\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userUpdate\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"userUpdateTitle\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"userUpdateForm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userUpdateLeft\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: user.username,\n                className: \"userUpdateInput\",\n                onChange: handleChange,\n                name: \"username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"\",\n                children: \"Admin?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"isAdmin\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"true\",\n                  children: \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"false\",\n                  children: \"false\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 16\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"annabeck99@gmail.com\",\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"+1 123 456 67\",\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateItem\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"New York | USA\",\n                className: \"userUpdateInput\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"userUpdateRight\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"userUpdateUpload\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"userUpdateImg\",\n                src: user.img || randomImg,\n                alt: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleClick,\n              className: \"userUpdateButton\",\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n\n_s(User, \"E84icZTYmoOVRYj7SoKa4Vasjcg=\", false, function () {\n  return [useLocation, useDispatch, useSelector];\n});\n\n_c = User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["/Users/ccr2k/Desktop/foleyshop/admin/src/pages/user/User.jsx"],"names":["CalendarToday","LocationSearching","MailOutline","PermIdentity","PhoneAndroid","Publish","Link","useState","updateUser","getStorage","ref","uploadBytesResumable","getDownloadURL","app","useSelector","useDispatch","useLocation","User","location","dispatch","userId","pathname","split","file","setFile","inputs","setInputs","user","state","userList","currentUser","find","_id","console","log","randomImg","handleChange","e","prev","target","name","value","handleClick","preventDefault","fileName","Date","getTime","storage","storageRef","uploadTask","on","snapshot","progress","bytesTransferred","totalBytes","error","then","downloadURL","img","username","email","isAdmin"],"mappings":"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","sourcesContent":["import {\n  CalendarToday,\n  LocationSearching,\n  MailOutline,\n  PermIdentity,\n  PhoneAndroid,\n  Publish,\n} from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\nimport \"./user.css\";\n\nimport { useState } from \"react\";\n\nimport { updateUser } from '../../redux/apiCalls';\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport app from \"../../firebase\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useLocation } from \"react-router-dom\";\n//import User from './User';\n\n\nexport default function User() {\n\n  const location = useLocation()\n  const dispatch = useDispatch()\n  const userId = location.pathname.split(\"/\")[2];\n  const [ file, setFile] = useState([]);\n  const [ inputs, setInputs] = useState({});\n\n\n\n  const user = useSelector((state)=> state.userList.currentUser.find((user) => user._id === userId)\n\n  );\n  console.log(user, \"user\");\n\n  const randomImg = 'https://media.istockphoto.com/id/1131164548/vector/avatar-5.jpg?s=612x612&w=0&k=20&c=CK49ShLJwDxE4kiroCR42kimTuuhvuo2FH5y_6aSgEo='\n\n  const handleChange = (e) => { \n      setInputs((prev) => {\n        return {...prev, [e.target.name]: e.target.value };\n      })\n     }\n\n\n\n     const handleClick = (e) => {\n      e.preventDefault()\n      \n      const fileName = new Date().getTime() + (file?.name || randomImg)\n      const storage = getStorage(app);\n      const storageRef = ref(storage, fileName);\n      const uploadTask = uploadBytesResumable(storageRef, (file || randomImg));\n  \n      // Register three observers:\n      // 1. 'state_changed' observer, called any time the state changes\n      // 2. Error observer, called on failure\n      // 3. Completion observer, called on successful completion\n      uploadTask.on('state_changed', \n        (snapshot) => {\n          // Observe state change events such as progress, pause, and resume\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n          const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          console.log('Upload is ' + progress + '% done');\n          switch (snapshot.state) {\n            case 'paused':\n              console.log('Upload is paused');\n              break;\n            case 'running':\n              console.log('Upload is running');\n              break;\n              default:\n          }\n        }, \n        (error) => {\n          // Handle unsuccessful uploads\n        }, \n        () => {\n          // Handle successful uploads on complete\n          // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n           const user = {_id: userId, ...inputs,  img: downloadURL };\n            \n          updateUser(userId,user, dispatch)\n          })\n      }\n      );}\n  \n  \n\n\n\n  return (\n    <div className=\"user\">\n      <div className=\"userTitleContainer\">\n        <h1 className=\"userTitle\">Edit User</h1>\n        <Link to=\"/newUser\">\n          <button className=\"userAddButton\">Create</button>\n        </Link>\n      </div>\n      <div className=\"userContainer\">\n        <div className=\"userShow\">\n          <div className=\"userShowTop\">\n            <img\n              src={user.img || randomImg}\n              alt=\"\"\n              className=\"userShowImg\"\n            />\n            <div className=\"userShowTopTitle\">\n              <span className=\"userShowUsername\">{user.username}</span>\n  \n            </div>\n          </div>\n          <div className=\"userShowBottom\">\n            <span className=\"userShowTitle\">id: {user._id}</span>\n            <div className=\"userShowInfo\">\n              <PermIdentity className=\"userShowIcon\" />\n              <span className=\"userShowInfoTitle\">annabeck99</span>\n            </div>\n            <div className=\"userShowInfo\">\n              <CalendarToday className=\"userShowIcon\" />\n              <span className=\"userShowInfoTitle\">{user.email}</span>\n            </div>\n            <span className=\"userShowTitle\">{user.isAdmin}</span>\n            <div className=\"userShowInfo\">\n              <PhoneAndroid className=\"userShowIcon\" />\n              <span className=\"userShowInfoTitle\">+1 123 456 67</span>\n            </div>\n           \n          </div>\n        </div>\n        <div className=\"userUpdate\">\n          <span className=\"userUpdateTitle\">Edit</span>\n          <form className=\"userUpdateForm\">\n            <div className=\"userUpdateLeft\">\n              <div className=\"userUpdateItem\">\n                <label>Username</label>\n                <input\n                  type=\"text\"\n                  placeholder={user.username}\n                  className=\"userUpdateInput\"\n                  onChange={handleChange}\n                  name='username'\n                />\n              </div>\n              <div className=\"userUpdateItem\">\n                <label htmlFor=\"\">Admin?</label>\n               <select name=\"isAdmin\">\n                <option value=\"true\">true</option>\n                <option value=\"false\">false</option>\n               </select>\n              </div>\n              <div className=\"userUpdateItem\">\n                <label>Email</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"annabeck99@gmail.com\"\n                  className=\"userUpdateInput\"\n                />\n              </div>\n              <div className=\"userUpdateItem\">\n                <label>Phone</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"+1 123 456 67\"\n                  className=\"userUpdateInput\"\n                />\n              </div>\n              <div className=\"userUpdateItem\">\n                <label>Address</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"New York | USA\"\n                  className=\"userUpdateInput\"\n                />\n              </div>\n            </div>\n            <div className=\"userUpdateRight\">\n              <div className=\"userUpdateUpload\">\n                <img\n                  className=\"userUpdateImg\"\n                  src={user.img || randomImg}\n                  alt=\"\"\n                />\n              </div>\n              <button  onClick={handleClick} className=\"userUpdateButton\">Update</button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}